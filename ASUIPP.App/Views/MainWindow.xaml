<Window x:Class="ASUIPP.App.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="АСУИПП" Width="950" Height="650"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" AllowsTransparency="False"
        ResizeMode="CanResizeWithGrip"
        Background="#C0C0C0">

    <Border BorderBrush="#808080" BorderThickness="2">
        <DockPanel>

            <!-- Кастомный заголовок -->
            <Border DockPanel.Dock="Top" Background="#000080" Height="28"
                    MouseLeftButtonDown="TitleBar_MouseDown">
                <DockPanel Margin="4,0">
                    <TextBlock DockPanel.Dock="Left" Text="■" Foreground="White"
                               FontSize="16" VerticalAlignment="Center" Margin="2,0,6,0"/>
                    <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                        <Button Content="_" Width="22" Height="20" Padding="0" Margin="1,0"
                                FontWeight="Bold" Click="Minimize_Click"/>
                        <Button x:Name="MaxBtn" Content="□" Width="22" Height="20" Padding="0" Margin="1,0"
                                FontWeight="Bold" Click="Maximize_Click"/>
                        <Button Content="✕" Width="22" Height="20" Padding="0" Margin="1,0"
                                FontWeight="Bold" Click="Close_Click"/>
                    </StackPanel>
                    <TextBlock x:Name="TitleText" Text="АСУИПП"
                               Foreground="White" FontWeight="Bold" FontSize="14"
                               VerticalAlignment="Center"/>
                </DockPanel>
            </Border>

            <!-- Меню -->
            <Menu DockPanel.Dock="Top">
                <MenuItem Header="АСУИПП" FontWeight="Bold">
                    <MenuItem Header="Автозапуск при входе" x:Name="AutoStartMenuItem"
                              IsCheckable="True" Click="AutoStart_Click"/>
                    <Separator/>
                    <MenuItem Header="Сменить пользователя" Click="Logout_Click"/>
                    <MenuItem Header="Сбросить настройки" Click="ResetSettings_Click"/>
                </MenuItem>
                <MenuItem Header="Свернуть в трей" Click="Hide_Click"/>
            </Menu>

            <!-- Панель навигации + масштаб -->
            <Border DockPanel.Dock="Top" Background="#C0C0C0" Padding="5,3"
                    BorderBrush="#808080" BorderThickness="0,0,0,1">
                <DockPanel>
                    <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="Масштаб:" VerticalAlignment="Center" Margin="0,0,5,0" FontSize="11"/>
                        <Button Content="−" Width="26" Height="22" Padding="0"
                                Click="ZoomOut_Click" FontSize="13" FontWeight="Bold"/>
                        <TextBlock x:Name="ZoomLabel" Text="100%" Width="40"
                                   TextAlignment="Center" VerticalAlignment="Center" FontSize="11"/>
                        <Button Content="+" Width="26" Height="22" Padding="0"
                                Click="ZoomIn_Click" FontSize="13" FontWeight="Bold"/>
                    </StackPanel>

                    <StackPanel x:Name="NavPanel" Orientation="Horizontal" Visibility="Collapsed">
                        <Button Content="← Назад" Padding="10,3" Click="GoBackToHead_Click"/>
                        <TextBlock x:Name="NavTitle" VerticalAlignment="Center"
                                   Margin="10,0,0,0" FontSize="12" FontStyle="Italic"/>
                    </StackPanel>
                </DockPanel>
            </Border>

            <!-- Статусбар -->
            <Border DockPanel.Dock="Bottom" Background="#C0C0C0" Height="22"
                    BorderBrush="#808080" BorderThickness="0,1,0,0">
                <TextBlock x:Name="StatusText" Text="Готово" VerticalAlignment="Center"
                           Margin="4,0" FontSize="11" Foreground="#404040"/>
            </Border>

            <!-- Контент — растягивается на всё доступное пространство -->
            <ContentControl x:Name="ContentArea"/>

        </DockPanel>
    </Border>
</Window>