<Window x:Class="ASUIPP.App.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="АСУИПП" Width="950" Height="650"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" AllowsTransparency="False"
        ResizeMode="CanResizeWithGrip"
        Background="#C0C0C0">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Border BorderBrush="#808080" BorderThickness="2">
        <DockPanel>

            <!-- Кастомный заголовок -->
            <Border DockPanel.Dock="Top" Background="#000080" Height="28"
                    MouseLeftButtonDown="TitleBar_MouseDown">
                <DockPanel Margin="4,0">
                    <TextBlock DockPanel.Dock="Left" Text="■" Foreground="White"
                               FontSize="16" VerticalAlignment="Center" Margin="2,0,6,0"/>
                    <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                        <Button Content="_" Width="22" Height="20" Padding="0" Margin="1,0"
                                FontWeight="Bold" Click="Minimize_Click"/>
                        <Button x:Name="MaxBtn" Content="□" Width="22" Height="20" Padding="0" Margin="1,0"
                                FontWeight="Bold" Click="Maximize_Click"/>
                        <Button Content="✕" Width="22" Height="20" Padding="0" Margin="1,0"
                                FontWeight="Bold" Click="Close_Click"/>
                    </StackPanel>
                    <TextBlock x:Name="TitleText" Text="АСУИПП"
                               Foreground="White" FontWeight="Bold" FontSize="14"
                               VerticalAlignment="Center"/>
                </DockPanel>
            </Border>

            <!-- Меню -->
            <Menu DockPanel.Dock="Top">
                <MenuItem Header="АСУИПП" FontWeight="Bold">
                    <MenuItem Header="Автозапуск при входе" x:Name="AutoStartMenuItem"
              IsCheckable="True" Click="AutoStart_Click"/>
                    <Separator/>
                    <MenuItem Header="Сменить пользователя" Click="Logout_Click"/>
                    <MenuItem Header="Сбросить настройки" Click="ResetSettings_Click"/>
                    <Separator/>
                    <MenuItem Header="Справка" Click="Help_Click"/>
                </MenuItem>
            </Menu>

            <!-- Навигация + действия -->
            <Border DockPanel.Dock="Top" Background="#C0C0C0" Padding="5,3"
                    BorderBrush="#808080" BorderThickness="0,0,0,1">
                <DockPanel>
                    <!-- Масштаб справа -->
                    <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="Масштаб:" VerticalAlignment="Center" Margin="0,0,5,0" FontSize="11"/>
                        <Button Content="−" Width="26" Height="22" Padding="0"
                                Click="ZoomOut_Click" FontSize="13" FontWeight="Bold"/>
                        <TextBlock x:Name="ZoomLabel" Text="100%" Width="40"
                                   TextAlignment="Center" VerticalAlignment="Center" FontSize="11"/>
                        <Button Content="+" Width="26" Height="22" Padding="0"
                                Click="ZoomIn_Click" FontSize="13" FontWeight="Bold"/>
                    </StackPanel>

                    <!-- Кнопки действий (отчет, экспорт) -->
                    <StackPanel x:Name="ActionPanel" DockPanel.Dock="Right" Orientation="Horizontal"
                                Visibility="Collapsed" Margin="0,0,10,0">
                        <Button x:Name="BtnReport" Padding="6,3" Margin="3,0"
                                Click="Report_Click">
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{StaticResource IconReport}" Width="16" Height="16" Margin="0,0,4,0"/>
                                <TextBlock Text="Отчет" VerticalAlignment="Center" FontSize="12"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="BtnExport" Padding="6,3" Margin="3,0"
                                Click="Export_Click">
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{StaticResource IconExport}" Width="16" Height="16" Margin="0,0,4,0"/>
                                <TextBlock Text="Экспорт" VerticalAlignment="Center" FontSize="12"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>

                    <!-- Навигация слева -->
                    <StackPanel x:Name="NavPanel" Orientation="Horizontal" Visibility="Collapsed">
                        <Button Content="← Назад" Padding="10,3" Click="GoBackToHead_Click"/>
                        <TextBlock x:Name="NavTitle" VerticalAlignment="Center"
                                   Margin="10,0,0,0" FontSize="12" FontStyle="Italic"/>
                    </StackPanel>
                </DockPanel>
            </Border>
            <!-- Статусбар -->
            <Border DockPanel.Dock="Bottom" Background="#C0C0C0" Height="22"
        BorderBrush="#808080" BorderThickness="0,1,0,0">
                <DockPanel Margin="4,0">
                    <TextBlock DockPanel.Dock="Right" Text="СГУПС • dj mostovik • поручик • лэщ"
                   VerticalAlignment="Center" FontSize="9" Foreground="#A0A0A0"/>
                    <TextBlock x:Name="StatusText" Text="Готово" VerticalAlignment="Center"
                   FontSize="11" Foreground="#404040"/>
                </DockPanel>
            </Border>

            <!-- Контент — растягивается на всё доступное пространство -->
            <ContentControl x:Name="ContentArea"/>

        </DockPanel>
    </Border>
</Window>